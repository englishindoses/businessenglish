<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business English | Interview Skills</title>
    <link rel="stylesheet" href="css/lessons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Fraunces:wght@600;700&display=swap" rel="stylesheet">
</head>
<body data-lesson="3">
    <header class="header">
        <a href="index.html" class="back-link">‚Üê Back to Course</a>
        <div class="header-content">
            <div class="header-badge">Lesson 3</div>
            <h1>Interview Skills</h1>
            <p class="header-subtitle">Strategies for answering questions & showcasing your strengths</p>
        </div>
        <div class="header-decoration"></div>
    </header>

    <main class="container">
        <!-- Activity 1: Discussion Warm-up -->
        <section class="section" id="activity1">
            <div class="section-header">
                <span class="section-number">Activity 1/5</span>
                <h2>Warm-up: Interview Experiences</h2>
            </div>
            <p class="section-intro">Think about your past interview experiences. Discuss these questions with your teacher.</p>

            <div class="discussion-grid">
                <div class="discussion-card">
                    <div class="card-icon">üéØ</div>
                    <h3>Your Experience</h3>
                    <ul class="discussion-questions">
                        <li>When was your last job interview? How did it go?</li>
                        <li>What type of interviews have you had? (phone, video, panel, one-to-one?)</li>
                        <li>Do you prepare differently for different types of interviews?</li>
                    </ul>
                </div>

                <div class="discussion-card">
                    <div class="card-icon">üò∞</div>
                    <h3>Challenges</h3>
                    <ul class="discussion-questions">
                        <li>What do you find most challenging about interviews?</li>
                        <li>Are there any questions you dread being asked?</li>
                        <li>How do you manage interview nerves?</li>
                    </ul>
                </div>

                <div class="discussion-card">
                    <div class="card-icon">üí°</div>
                    <h3>From the Other Side</h3>
                    <ul class="discussion-questions">
                        <li>Have you ever interviewed someone else? What impressed you?</li>
                        <li>What makes a candidate memorable (in a good way)?</li>
                        <li>What mistakes have you seen candidates make?</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Activity 2: The STAR Method -->
        <section class="section" id="activity2">
            <div class="section-header">
                <span class="section-number">Activity 2/5</span>
                <h2>The STAR Method</h2>
            </div>
            <p class="section-intro">The STAR method helps you structure answers to behavioural questions like "Tell me about a time when..." Click each card to learn the framework.</p>

            <div class="phrase-cards">
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">S - Situation</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"In my previous role at [company], we were facing [context/challenge]..."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">T - Task</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"My responsibility was to..." / "I was asked to..." / "My role was to..."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">A - Action</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"So I decided to..." / "The first thing I did was..." / "I took the initiative to..."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">R - Result</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"As a result..." / "This led to..." / "The outcome was..." / "We achieved..."</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sorting: Good vs Weak STAR responses -->
            <div class="subsection">
                <h3>Strong vs Weak Responses</h3>
                <p class="activity-instruction">Sort these interview response snippets into strong (effective) or weak (needs improvement) categories.</p>

                <div class="sorting-activity">
                    <div class="phrase-bank" id="phraseBank">
                        <div class="phrase" data-category="strong" draggable="true">I increased sales by 25% over six months by implementing a new CRM system.</div>
                        <div class="phrase" data-category="weak" draggable="true">I'm a hard worker and always do my best.</div>
                        <div class="phrase" data-category="strong" draggable="true">I identified the problem, proposed a solution to my manager, and led a team of three to implement it.</div>
                        <div class="phrase" data-category="weak" draggable="true">We did a project and it went well.</div>
                        <div class="phrase" data-category="strong" draggable="true">The client was so pleased that they renewed their contract for another two years.</div>
                        <div class="phrase" data-category="weak" draggable="true">I think I handled it okay.</div>
                        <div class="phrase" data-category="strong" draggable="true">I coordinated with three departments to reduce delivery time from 5 days to 2 days.</div>
                        <div class="phrase" data-category="weak" draggable="true">Everyone said I did a good job.</div>
                    </div>
                    
                    <div class="sorting-zones">
                        <div class="sort-zone" id="strongZone" data-category="strong">
                            <h4>üí™ Strong Responses</h4>
                            <p class="zone-hint">Specific, measurable, action-focused</p>
                            <div class="zone-content"></div>
                        </div>
                        <div class="sort-zone" id="weakZone" data-category="weak">
                            <h4>üìù Needs Improvement</h4>
                            <p class="zone-hint">Vague, generic, no evidence</p>
                            <div class="zone-content"></div>
                        </div>
                    </div>
                </div>
                <button class="check-btn" onclick="checkSorting()">Check Answers</button>
                <button class="reset-btn" onclick="resetSorting()">Reset</button>
                <div class="feedback" id="sortingFeedback"></div>
            </div>

            <div class="practice-prompt">
                <h4>üí¨ Your Turn</h4>
                <p>Think of a work achievement you're proud of. Practise describing it using the STAR method with your teacher.</p>
            </div>
        </section>

        <!-- Activity 3: Common Interview Questions -->
        <section class="section" id="activity3">
            <div class="section-header">
                <span class="section-number">Activity 3/5</span>
                <h2>Handling Tricky Questions</h2>
            </div>
            <p class="section-intro">Some interview questions are harder than others. Match each tricky question with an effective response strategy.</p>

            <div class="drag-match-activity">
                <div class="statements-container">
                    <div class="statement-row" data-match="1">
                        <div class="statement-text">"What's your greatest weakness?"</div>
                        <div class="drop-zone" data-match="1">
                            <span class="drop-placeholder">Drop response here</span>
                        </div>
                    </div>
                    <div class="statement-row" data-match="2">
                        <div class="statement-text">"Why did you leave your last job?"</div>
                        <div class="drop-zone" data-match="2">
                            <span class="drop-placeholder">Drop response here</span>
                        </div>
                    </div>
                    <div class="statement-row" data-match="3">
                        <div class="statement-text">"Where do you see yourself in five years?"</div>
                        <div class="drop-zone" data-match="3">
                            <span class="drop-placeholder">Drop response here</span>
                        </div>
                    </div>
                    <div class="statement-row" data-match="4">
                        <div class="statement-text">"Why should we hire you?"</div>
                        <div class="drop-zone" data-match="4">
                            <span class="drop-placeholder">Drop response here</span>
                        </div>
                    </div>
                </div>
                
                <div class="draggable-responses" id="responseBank">
                    <div class="draggable-response" draggable="true" data-match="3">Show ambition that aligns with the role, but be realistic and flexible.</div>
                    <div class="draggable-response" draggable="true" data-match="1">Be honest but show self-awareness and what you're doing to improve.</div>
                    <div class="draggable-response" draggable="true" data-match="4">Summarise your key strengths and how they match what the company needs.</div>
                    <div class="draggable-response" draggable="true" data-match="2">Stay positive; focus on seeking new challenges or growth opportunities.</div>
                </div>
            </div>
            <button class="check-btn" onclick="checkDragMatching()">Check Matches</button>
            <button class="reset-btn" onclick="resetDragMatching()">Reset</button>
            <div class="feedback" id="dragMatchingFeedback"></div>

            <div class="reveal-box">
                <div class="reveal-header" onclick="toggleRevealBox(this)">
                    <h4>üìù Example Answers for Tricky Questions</h4>
                    <span class="reveal-hint">Click to reveal ‚Üí</span>
                </div>
                <div class="reveal-content">
                    <ul>
                        <li><strong>Weakness:</strong> "I sometimes take on too much. I've learned to delegate more effectively and use project management tools to stay organised."</li>
                        <li><strong>Why you left:</strong> "I was ready for a new challenge and wanted to develop my skills in [area]. This role offers exactly that opportunity."</li>
                        <li><strong>Five years:</strong> "I'd like to have grown into a senior position where I can mentor others and contribute to strategic decisions."</li>
                        <li><strong>Why hire you:</strong> "My experience in [X] combined with my skills in [Y] means I can add value from day one, particularly in [specific area they mentioned]."</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Activity 4: Questions to Ask -->
        <section class="section" id="activity4">
            <div class="section-header">
                <span class="section-number">Activity 4/5</span>
                <h2>Questions to Ask the Interviewer</h2>
            </div>
            <p class="section-intro">Asking good questions shows you're engaged and have done your research. Click each question to see if it's impressive or should be avoided.</p>

            <div class="topics-grid">
                <div class="topic-card" onclick="revealTopic(this)" data-safe="true">
                    <span class="topic-text">"What does success look like in this role?"</span>
                    <span class="topic-verdict safe">‚úì Impressive</span>
                </div>
                <div class="topic-card" onclick="revealTopic(this)" data-safe="false">
                    <span class="topic-text">"How much holiday do I get?"</span>
                    <span class="topic-verdict avoid">‚úó Too soon</span>
                </div>
                <div class="topic-card" onclick="revealTopic(this)" data-safe="true">
                    <span class="topic-text">"What are the biggest challenges facing the team right now?"</span>
                    <span class="topic-verdict safe">‚úì Impressive</span>
                </div>
                <div class="topic-card" onclick="revealTopic(this)" data-safe="false">
                    <span class="topic-text">"What does your company do exactly?"</span>
                    <span class="topic-verdict avoid">‚úó Shows no research</span>
                </div>
                <div class="topic-card" onclick="revealTopic(this)" data-safe="true">
                    <span class="topic-text">"How would you describe the team culture?"</span>
                    <span class="topic-verdict safe">‚úì Impressive</span>
                </div>
                <div class="topic-card" onclick="revealTopic(this)" data-safe="false">
                    <span class="topic-text">"Can I work from home every day?"</span>
                    <span class="topic-verdict avoid">‚úó Too demanding</span>
                </div>
                <div class="topic-card" onclick="revealTopic(this)" data-safe="true">
                    <span class="topic-text">"What opportunities are there for professional development?"</span>
                    <span class="topic-verdict safe">‚úì Impressive</span>
                </div>
                <div class="topic-card" onclick="revealTopic(this)" data-safe="true">
                    <span class="topic-text">"What are the next steps in the interview process?"</span>
                    <span class="topic-verdict safe">‚úì Impressive</span>
                </div>
            </div>

            <div class="discussion-note">
                <h4>ü§î Discussion</h4>
                <p>What questions would you want to ask about your dream job? Are there questions that are appropriate in your culture but might not be elsewhere?</p>
            </div>
        </section>

        <!-- Activity 5: Mock Interview Role Play -->
        <section class="section" id="activity5">
            <div class="section-header">
                <span class="section-number">Activity 5/5</span>
                <h2>Mock Interview Practice</h2>
            </div>
            <p class="section-intro">Choose a scenario and practise a short interview with your teacher. Focus on using the STAR method and asking good questions at the end.</p>

            <div class="scenario-cards">
                <div class="scenario-card" onclick="selectScenario(this)">
                    <div class="scenario-icon">üíº</div>
                    <h4>Your Current Field</h4>
                    <p>Interview for a more senior position in your current industry. The interviewer will ask about your experience and achievements.</p>
                    <div class="scenario-goals">
                        <span>Goals:</span> Use STAR method, quantify achievements, show leadership potential
                    </div>
                </div>

                <div class="scenario-card" onclick="selectScenario(this)">
                    <div class="scenario-icon">üîÑ</div>
                    <h4>Career Change</h4>
                    <p>Interview for a role in a new industry. Explain how your transferable skills make you a strong candidate.</p>
                    <div class="scenario-goals">
                        <span>Goals:</span> Highlight transferable skills, show enthusiasm for the new field, address the change positively
                    </div>
                </div>

                <div class="scenario-card" onclick="selectScenario(this)">
                    <div class="scenario-icon">üåç</div>
                    <h4>International Company</h4>
                    <p>Interview for a global company where you'd work with international teams and possibly relocate.</p>
                    <div class="scenario-goals">
                        <span>Goals:</span> Demonstrate cultural awareness, flexibility, language skills
                    </div>
                </div>
            </div>

            <div class="roleplay-tips">
                <h4>üí° Interview Tips:</h4>
                <ul>
                    <li>Listen carefully to the full question before answering</li>
                    <li>Take a moment to think ‚Äì silence is okay</li>
                    <li>Keep answers focused (1-2 minutes per question)</li>
                    <li>Use specific examples, not generalisations</li>
                    <li>End by asking 2-3 thoughtful questions</li>
                </ul>
            </div>
        </section>

        <!-- Wrap Up -->
        <section class="section wrap-up" id="wrapup">
            <div class="section-header">
                <span class="section-number">Wrap Up</span>
                <h2>Reflection & Next Steps</h2>
            </div>
            
            <div class="reflection-grid">
                <div class="reflection-card">
                    <h4>üåü Key Phrases to Remember</h4>
                    <p>Write down 2-3 STAR phrases or question openers you want to practise.</p>
                    <textarea class="notes-input" placeholder="Write your favourite phrases here..."></textarea>
                </div>
                <div class="reflection-card">
                    <h4>üìã Preparation Task</h4>
                    <p>Think of 2-3 achievements you could describe using the STAR method. Note them here.</p>
                    <textarea class="notes-input" placeholder="Your achievements for STAR responses..."></textarea>
                </div>
            </div>
        </section>

        <!-- Lesson Completion Section -->
        <section class="section lesson-completion" id="completion">
            <div class="completion-content">
                <div class="completion-icon" id="completionIcon">üìö</div>
                <h3 id="completionTitle">You've reached the end of Lesson 3!</h3>
                <p id="completionText">Well done on completing the activities. If you're happy with your progress, mark this lesson as complete to track your journey through the course.</p>
                <div class="completion-buttons">
                    <a href="lesson2.html" class="nav-btn">‚Üê Previous Lesson</a>
                    <button class="complete-lesson-btn" id="completeBtn" onclick="toggleLessonCompletion()">
                        <span class="btn-icon">‚úì</span>
                        <span class="btn-text">Mark as Complete</span>
                    </button>
                    <a href="index.html" class="nav-btn nav-btn-primary">üè† Home</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>Business English Course by English in Doses</p>
    </footer>

    <!-- Load activities.js as ES module -->
    <script type="module" src="js/activities.js"></script>
    
    <!-- Lesson completion functionality -->
    <script type="module">
        import { 
            isLessonComplete, 
            markLessonComplete, 
            markLessonIncomplete,
            getCurrentUser
        } from './js/lesson-utils.js';
        
        const LESSON_NUMBER = parseInt(document.body.dataset.lesson);
        let isComplete = false;
        
        // Initialize on page load
        document.addEventListener('DOMContentLoaded', async function() {
            await initializeCompletion();
        });
        
        async function initializeCompletion() {
            const username = getCurrentUser();
            if (username) {
                isComplete = await isLessonComplete(LESSON_NUMBER);
                updateCompletionUI();
            }
        }
        
        function updateCompletionUI() {
            const icon = document.getElementById('completionIcon');
            const title = document.getElementById('completionTitle');
            const text = document.getElementById('completionText');
            const btn = document.getElementById('completeBtn');
            const section = document.querySelector('.lesson-completion');
            
            if (isComplete) {
                icon.textContent = 'üéâ';
                title.textContent = 'Lesson Complete!';
                text.textContent = 'Fantastic work! You\'ve completed this lesson. Keep up the momentum and continue to the next lesson when you\'re ready.';
                btn.innerHTML = '<span class="btn-icon">‚Ü©</span><span class="btn-text">Mark as Incomplete</span>';
                btn.classList.add('completed');
                section.classList.add('is-complete');
            } else {
                icon.textContent = 'üìö';
                title.textContent = `You've reached the end of Lesson ${LESSON_NUMBER}!`;
                text.textContent = 'Well done on completing the activities. If you\'re happy with your progress, mark this lesson as complete to track your journey through the course.';
                btn.innerHTML = '<span class="btn-icon">‚úì</span><span class="btn-text">Mark as Complete</span>';
                btn.classList.remove('completed');
                section.classList.remove('is-complete');
            }
        }
        
        // Make toggle function globally accessible
        window.toggleLessonCompletion = async function() {
            const btn = document.getElementById('completeBtn');
            const username = getCurrentUser();
            
            if (!username) {
                alert('Please log in on the homepage first to track your progress.');
                return;
            }
            
            // Disable button during operation
            btn.disabled = true;
            btn.style.opacity = '0.7';
            
            try {
                if (isComplete) {
                    await markLessonIncomplete(LESSON_NUMBER);
                    isComplete = false;
                } else {
                    await markLessonComplete(LESSON_NUMBER);
                    isComplete = true;
                }
                
                updateCompletionUI();
                
                // Visual feedback
                btn.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    btn.style.transform = '';
                }, 150);
            } catch (error) {
                console.error('Error toggling completion:', error);
                alert('There was an error saving your progress. Please try again.');
            } finally {
                btn.disabled = false;
                btn.style.opacity = '1';
            }
        };
        
        window.scrollToTop = function(event) {
            event.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        };
    </script>
</body>
</html>
