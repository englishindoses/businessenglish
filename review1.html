<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business English | Review 1</title>
    <link rel="stylesheet" href="css/lessons.css">
    <link rel="stylesheet" href="css/drop-down.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Fraunces:wght@600;700&display=swap" rel="stylesheet">
    <style>
        /* ===== Review 1 Specific Styles ===== */
        
        /* Side-by-side grammar boxes */
        .grammar-boxes {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        @media (max-width: 768px) {
            .grammar-boxes {
                grid-template-columns: 1fr;
            }
        }
        
        /* Fix rounded borders on all info boxes */
        .discussion-note,
        .practice-prompt,
        .roleplay-tips,
        .grammar-tip {
            border-radius: var(--radius-md);
        }
        
        /* Grammar tip box styling */
        .grammar-tip {
            background: var(--color-primary-pale);
            border: 2px solid var(--color-primary);
            padding: 1rem 1.25rem;
            margin-top: 1.5rem;
        }
        .grammar-tip h4 {
            font-size: 0.95rem;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
        }
        .grammar-tip p {
            font-size: 0.9rem;
            color: var(--color-text);
            margin: 0;
            line-height: 1.6;
        }
        
        /* Compact dropdown sentences - inline layout */
        .dropdown-sentence-compact {
            background: var(--color-white);
            border: 2px solid var(--color-border);
            border-radius: var(--radius-md);
            padding: 1rem 1.25rem;
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            flex-wrap: wrap;
            transition: var(--transition);
        }
        .dropdown-sentence-compact:hover {
            border-color: var(--color-primary-light);
        }
        .dropdown-sentence-compact.correct {
            background: var(--color-success-light);
            border-color: var(--color-success);
        }
        .dropdown-sentence-compact.incorrect {
            background: var(--color-error-light);
            border-color: var(--color-error);
        }
        .dropdown-sentence-compact .sentence-number {
            flex-shrink: 0;
        }
        .dropdown-sentence-compact p {
            margin: 0;
            flex: 1;
            display: inline;
            line-height: 1.8;
        }
        
        /* Compact drag-and-drop matching */
        .compact-match-activity {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            align-items: start;
        }
        @media (max-width: 700px) {
            .compact-match-activity {
                grid-template-columns: 1fr;
            }
        }
        .match-statements {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .match-statement-row {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .match-statement-text {
            background: var(--color-white);
            border: 2px solid var(--color-primary);
            border-left: 4px solid var(--color-primary);
            border-radius: var(--radius-sm);
            padding: 0.75rem 1rem;
            font-size: 0.9rem;
        }
        .match-drop-zone {
            background: var(--color-bg);
            border: 2px dashed var(--color-border);
            border-radius: var(--radius-sm);
            padding: 0.5rem;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        .match-drop-zone.drag-over {
            border-color: var(--color-accent);
            background: var(--color-accent-light);
            border-style: solid;
        }
        .match-drop-zone.correct {
            border-color: var(--color-success);
            background: var(--color-success-light);
            border-style: solid;
        }
        .match-drop-zone.incorrect {
            border-color: var(--color-error);
            background: var(--color-error-light);
            border-style: solid;
        }
        .match-drop-zone .drop-placeholder {
            color: var(--color-text-light);
            font-size: 0.8rem;
            font-style: italic;
        }
        .match-response-bank {
            background: var(--color-bg);
            border-radius: var(--radius-md);
            padding: 1rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            position: sticky;
            top: 1rem;
        }
        .match-response-bank h4 {
            font-size: 0.9rem;
            color: var(--color-text-light);
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .match-response {
            background: var(--color-accent);
            color: var(--color-white);
            padding: 0.6rem 0.75rem;
            border-radius: var(--radius-sm);
            font-size: 0.85rem;
            cursor: grab;
            transition: var(--transition);
        }
        .match-response:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        .match-response.dragging {
            opacity: 0.5;
            cursor: grabbing;
        }
        .match-response.correct {
            background: var(--color-success);
        }
        .match-response.incorrect {
            background: var(--color-error);
        }
        .match-drop-zone .match-response {
            width: 100%;
            margin: 0;
        }
        
        /* Conversation question card */
        .conversation-prompt {
            background: linear-gradient(135deg, var(--color-primary-pale) 0%, var(--color-white) 100%);
            border: 2px solid var(--color-primary);
            border-radius: var(--radius-md);
            padding: 1.25rem;
            margin-top: 1.5rem;
        }
        .conversation-prompt h4 {
            font-size: 0.95rem;
            color: var(--color-primary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .conversation-prompt p {
            font-size: 0.95rem;
            color: var(--color-text);
            margin: 0;
            line-height: 1.6;
        }
        .conversation-prompt em {
            display: block;
            margin-top: 0.5rem;
            font-size: 0.85rem;
            color: var(--color-text-light);
        }
        
        /* Four-zone sorting grid */
        .sorting-zones.four-zones {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        @media (max-width: 700px) {
            .sorting-zones.four-zones {
                grid-template-columns: 1fr;
            }
        }
        .sorting-zones.four-zones .sort-zone {
            min-height: 100px;
        }
    </style>
</head>
<body data-lesson="13">
    <header class="header">
        <a href="index.html" class="back-link">‚Üê Back to Course</a>
        <div class="header-content">
            <div class="header-badge">Review 1</div>
            <h1>Consolidation: Lessons 1-3</h1>
            <p class="header-subtitle">Review key grammar and expressions with practical activities</p>
        </div>
        <div class="header-decoration"></div>
    </header>

    <main class="container">
        <!-- Activity 1: Grammar Presentation -->
        <section class="section" id="activity1">
            <div class="section-header">
                <span class="section-number">Activity 1/7</span>
                <h2>Grammar Review: Verbs + -ing / to</h2>
            </div>
            <p class="section-intro">Many verbs are followed by another verb in either the <strong>-ing form</strong> or the <strong>to + infinitive form</strong>. There's no perfect rule ‚Äî you need to learn which verbs take which form.</p>

            <div class="grammar-boxes">
                <div class="language-box">
                    <h4>üìò Verbs followed by -ing</h4>
                    <ul>
                        <li><strong>enjoy</strong> ‚Äì I enjoy working with clients.</li>
                        <li><strong>avoid</strong> ‚Äì We avoid making promises we can't keep.</li>
                        <li><strong>finish</strong> ‚Äì Have you finished writing the report?</li>
                        <li><strong>consider</strong> ‚Äì I'm considering changing careers.</li>
                        <li><strong>suggest</strong> ‚Äì She suggested having a meeting.</li>
                        <li><strong>mind</strong> ‚Äì Would you mind waiting?</li>
                        <li><strong>keep</strong> ‚Äì Keep trying!</li>
                        <li><strong>involve</strong> ‚Äì My role involves managing a team.</li>
                    </ul>
                </div>

                <div class="language-box">
                    <h4>üìó Verbs followed by to + infinitive</h4>
                    <ul>
                        <li><strong>want</strong> ‚Äì I want to discuss the budget.</li>
                        <li><strong>need</strong> ‚Äì We need to hire more staff.</li>
                        <li><strong>decide</strong> ‚Äì She decided to accept the offer.</li>
                        <li><strong>hope</strong> ‚Äì I hope to see you there.</li>
                        <li><strong>plan</strong> ‚Äì We're planning to expand next year.</li>
                        <li><strong>agree</strong> ‚Äì They agreed to work together.</li>
                        <li><strong>tend</strong> ‚Äì I tend to be quite organised.</li>
                        <li><strong>mean</strong> ‚Äì I meant to ask you about that.</li>
                    </ul>
                </div>
            </div>

            <div class="discussion-note">
                <h4>‚ö†Ô∏è Special Case: "Stop"</h4>
                <p><strong>stop + -ing</strong> = quit doing something ‚Üí <em>"I stopped smoking."</em> (I don't smoke anymore.)<br>
                <strong>stop + to</strong> = pause in order to do something ‚Üí <em>"I stopped to smoke."</em> (I paused to have a cigarette.)</p>
            </div>

            <div class="grammar-tip">
                <h4>üí° Tip</h4>
                <p>Many <strong>-ing verbs</strong> describe feelings or attitudes (enjoy, avoid, mind, consider). Many <strong>to verbs</strong> are about intentions or decisions (want, plan, decide, hope).</p>
            </div>

            <div class="conversation-prompt">
                <h4>üí¨ Quick Discussion</h4>
                <p>Think of something you <strong>enjoy doing</strong> at work and something you <strong>avoid doing</strong>. Tell your teacher using the correct verb form.</p>
                <em>Example: "I enjoy collaborating with my team, but I avoid attending unnecessary meetings."</em>
            </div>
        </section>

        <!-- Activity 2: Grammar Check -->
        <section class="section" id="activity2">
            <div class="section-header">
                <span class="section-number">Activity 2/7</span>
                <h2>Grammar Check</h2>
            </div>
            <p class="section-intro">Choose the correct form to complete each sentence.</p>

            <div class="dropdown-activity" id="dropdownActivity1">
                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">1</span>
                    <p>My role involves
                        <select class="gap-dropdown" data-answer="managing">
                            <option value="">Select...</option>
                            <option value="managing">managing</option>
                            <option value="to manage">to manage</option>
                        </select>
                        the customer service team.
                    </p>
                </div>

                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">2</span>
                    <p>I tend
                        <select class="gap-dropdown" data-answer="to be">
                            <option value="">Select...</option>
                            <option value="being">being</option>
                            <option value="to be">to be</option>
                        </select>
                        quite direct in meetings.
                    </p>
                </div>

                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">3</span>
                    <p>Would you mind
                        <select class="gap-dropdown" data-answer="sending">
                            <option value="">Select...</option>
                            <option value="sending">sending</option>
                            <option value="to send">to send</option>
                        </select>
                        me the figures?
                    </p>
                </div>

                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">4</span>
                    <p>That reminds me, I meant
                        <select class="gap-dropdown" data-answer="to ask">
                            <option value="">Select...</option>
                            <option value="asking">asking</option>
                            <option value="to ask">to ask</option>
                        </select>
                        you about the project deadline.
                    </p>
                </div>

                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">5</span>
                    <p>She stopped
                        <select class="gap-dropdown" data-answer="to check">
                            <option value="">Select...</option>
                            <option value="checking">checking</option>
                            <option value="to check">to check</option>
                        </select>
                        her phone during the presentation. <em>(= paused in order to check it)</em>
                    </p>
                </div>

                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">6</span>
                    <p>We're considering
                        <select class="gap-dropdown" data-answer="expanding">
                            <option value="">Select...</option>
                            <option value="expanding">expanding</option>
                            <option value="to expand">to expand</option>
                        </select>
                        into the Asian market next year.
                    </p>
                </div>

                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">7</span>
                    <p>They agreed
                        <select class="gap-dropdown" data-answer="to postpone">
                            <option value="">Select...</option>
                            <option value="postponing">postponing</option>
                            <option value="to postpone">to postpone</option>
                        </select>
                        the meeting until next week.
                    </p>
                </div>

                <div class="dropdown-sentence-compact">
                    <span class="sentence-number">8</span>
                    <p>I really enjoy
                        <select class="gap-dropdown" data-answer="working">
                            <option value="">Select...</option>
                            <option value="working">working</option>
                            <option value="to work">to work</option>
                        </select>
                        with international clients.
                    </p>
                </div>
            </div>
            <button class="check-btn" onclick="checkDropdownAnswers('dropdownActivity1')">Check Answers</button>
            <button class="reset-btn" onclick="resetDropdownActivity('dropdownActivity1')">Reset</button>
            <div class="feedback" id="dropdownActivity1Feedback"></div>

            <div class="conversation-prompt">
                <h4>üí¨ Discussion</h4>
                <p>Choose one of these questions and answer using the correct verb form:</p>
                <p>‚Ä¢ What do you enjoy doing in your free time?<br>
                ‚Ä¢ Is there something you keep meaning to do but haven't done yet?<br>
                ‚Ä¢ What do you hope to achieve in the next year?</p>
            </div>
        </section>

        <!-- Activity 3: Expression Sorting -->
        <section class="section" id="activity3">
            <div class="section-header">
                <span class="section-number">Activity 3/7</span>
                <h2>Expression Sorting: Describe & Connect</h2>
            </div>
            <p class="section-intro">Sort these expressions into the correct category based on their function.</p>
            
            <div class="sorting-activity">
                <div class="phrase-bank" id="phraseBank">
                    <div class="phrase" data-category="describing" draggable="true">I'm responsible for...</div>
                    <div class="phrase" data-category="describing" draggable="true">My role involves...</div>
                    <div class="phrase" data-category="describing" draggable="true">I work closely with...</div>
                    <div class="phrase" data-category="habits" draggable="true">I tend to...</div>
                    <div class="phrase" data-category="habits" draggable="true">I usually...</div>
                    <div class="phrase" data-category="habits" draggable="true">I'm quite good at...</div>
                    <div class="phrase" data-category="achievements" draggable="true">I played a key role in...</div>
                    <div class="phrase" data-category="achievements" draggable="true">One of my key achievements was...</div>
                    <div class="phrase" data-category="achievements" draggable="true">I successfully managed to...</div>
                    <div class="phrase" data-category="results" draggable="true">This led to...</div>
                    <div class="phrase" data-category="results" draggable="true">As a result...</div>
                    <div class="phrase" data-category="results" draggable="true">The outcome was...</div>
                </div>
                
                <div class="sorting-zones four-zones">
                    <div class="sort-zone" id="describingZone" data-category="describing">
                        <h4>üíº Describing Your Role</h4>
                        <p class="zone-hint">What you do at work</p>
                        <div class="zone-content"></div>
                    </div>
                    <div class="sort-zone" id="habitsZone" data-category="habits">
                        <h4>üîÑ Habits & Tendencies</h4>
                        <p class="zone-hint">How you usually behave</p>
                        <div class="zone-content"></div>
                    </div>
                    <div class="sort-zone" id="achievementsZone" data-category="achievements">
                        <h4>üèÜ Highlighting Achievements</h4>
                        <p class="zone-hint">Things you've accomplished</p>
                        <div class="zone-content"></div>
                    </div>
                    <div class="sort-zone" id="resultsZone" data-category="results">
                        <h4>üìà Showing Results</h4>
                        <p class="zone-hint">Consequences and outcomes</p>
                        <div class="zone-content"></div>
                    </div>
                </div>
            </div>
            <button class="check-btn" onclick="checkSorting()">Check Answers</button>
            <button class="reset-btn" onclick="resetSorting()">Reset</button>
            <div class="feedback" id="sortingFeedback"></div>

            <div class="conversation-prompt">
                <h4>üí¨ Practice</h4>
                <p>Use expressions from each category to talk about a hobby or interest you have:</p>
                <em>Example: "I'm responsible for organising our book club meetings. I tend to choose mystery novels. One of my key achievements was getting 20 people to join. This led to us meeting twice a month instead of once."</em>
            </div>
        </section>

        <!-- Activity 4: Flip Cards - Expressions in Context -->
        <section class="section" id="activity4">
            <div class="section-header">
                <span class="section-number">Activity 4/7</span>
                <h2>Expressions in Context</h2>
            </div>
            <p class="section-intro">Click each card to see an example of the expression used in a real context.</p>

            <div class="phrase-cards">
                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">I'm responsible for...</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"I'm responsible for overseeing our digital marketing strategy and managing a budget of ‚Ç¨500,000."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">I tend to...</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"I tend to start my day by reviewing my priority tasks and checking emails from international clients."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">This led to...</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"We restructured the team and improved communication. This led to a 30% increase in productivity."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">Looking back...</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"Looking back, I realise that project taught me a lot about stakeholder management."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">I played a key role in...</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"I played a key role in launching our new product line, which generated ‚Ç¨2 million in the first quarter."</p>
                        </div>
                    </div>
                </div>

                <div class="flip-card" onclick="this.classList.toggle('flipped')">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <span class="phrase-label">Something I'm working on...</span>
                        </div>
                        <div class="flip-card-back">
                            <p>"Something I'm working on improving is my presentation skills. I've started taking a public speaking course."</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="conversation-prompt">
                <h4>üí¨ Your Turn</h4>
                <p>Think of something you've been working on improving recently ‚Äî at work, a hobby, or a personal skill. Tell your teacher about it using "Something I'm working on..."</p>
            </div>
        </section>

        <!-- Activity 5: Matching Expressions to Meanings -->
        <section class="section" id="activity5">
            <div class="section-header">
                <span class="section-number">Activity 5/7</span>
                <h2>Match the Meanings</h2>
            </div>
            <p class="section-intro">Match each expression with its meaning or use. Drag the definitions to the correct expression.</p>

            <div class="compact-match-activity">
                <div class="match-statements">
                    <div class="match-statement-row">
                        <div class="match-statement-text"><strong>I'm responsible for...</strong></div>
                        <div class="match-drop-zone drop-zone" data-match="responsible">
                            <span class="drop-placeholder">Drop here</span>
                        </div>
                    </div>
                    <div class="match-statement-row">
                        <div class="match-statement-text"><strong>My role involves...</strong></div>
                        <div class="match-drop-zone drop-zone" data-match="involves">
                            <span class="drop-placeholder">Drop here</span>
                        </div>
                    </div>
                    <div class="match-statement-row">
                        <div class="match-statement-text"><strong>That reminds me...</strong></div>
                        <div class="match-drop-zone drop-zone" data-match="reminds">
                            <span class="drop-placeholder">Drop here</span>
                        </div>
                    </div>
                    <div class="match-statement-row">
                        <div class="match-statement-text"><strong>I tend to...</strong></div>
                        <div class="match-drop-zone drop-zone" data-match="tend">
                            <span class="drop-placeholder">Drop here</span>
                        </div>
                    </div>
                    <div class="match-statement-row">
                        <div class="match-statement-text"><strong>This led to...</strong></div>
                        <div class="match-drop-zone drop-zone" data-match="ledto">
                            <span class="drop-placeholder">Drop here</span>
                        </div>
                    </div>
                    <div class="match-statement-row">
                        <div class="match-statement-text"><strong>I played a key role in...</strong></div>
                        <div class="match-drop-zone drop-zone" data-match="keyrole">
                            <span class="drop-placeholder">Drop here</span>
                        </div>
                    </div>
                </div>

                <div class="match-response-bank" id="responseBank">
                    <h4>Definitions</h4>
                    <div class="match-response draggable-response" data-match="ledto" draggable="true">Showing a result or consequence</div>
                    <div class="match-response draggable-response" data-match="responsible" draggable="true">Describing your main duties</div>
                    <div class="match-response draggable-response" data-match="tend" draggable="true">Describing usual behaviour</div>
                    <div class="match-response draggable-response" data-match="keyrole" draggable="true">Emphasising your contribution</div>
                    <div class="match-response draggable-response" data-match="involves" draggable="true">Describing what your job includes</div>
                    <div class="match-response draggable-response" data-match="reminds" draggable="true">Changing the topic smoothly</div>
                </div>
            </div>
            <button class="check-btn" onclick="checkDragMatching()">Check Answers</button>
            <button class="reset-btn" onclick="resetDragMatching()">Reset</button>
            <div class="feedback" id="dragMatchingFeedback"></div>

            <div class="conversation-prompt">
                <h4>üí¨ Discussion</h4>
                <p>Your teacher will ask you about your job or daily routine. Practice smoothly changing the topic by using "That reminds me..." mid-conversation.</p>
            </div>
        </section>

        <!-- Activity 6: Sentence Ordering -->
        <section class="section" id="activity6">
            <div class="section-header">
                <span class="section-number">Activity 6/7</span>
                <h2>Building Sentences</h2>
            </div>
            <p class="section-intro">Put the words in the correct order to make useful professional phrases. Drag the words to rearrange them.</p>

            <div class="sentence-ordering-activity" id="sentenceActivity">
                <div class="sentence-exercise" data-sentence="1">
                    <div class="sentence-context">Describing your responsibilities:</div>
                    <div class="word-bank" data-correct="I'm responsible for managing the budget.">
                        <div class="draggable-word" draggable="true">budget.</div>
                        <div class="draggable-word" draggable="true">responsible</div>
                        <div class="draggable-word" draggable="true">the</div>
                        <div class="draggable-word" draggable="true">I'm</div>
                        <div class="draggable-word" draggable="true">managing</div>
                        <div class="draggable-word" draggable="true">for</div>
                    </div>
                </div>

                <div class="sentence-exercise" data-sentence="2">
                    <div class="sentence-context">Describing your habits:</div>
                    <div class="word-bank" data-correct="I tend to be quite organised.">
                        <div class="draggable-word" draggable="true">organised.</div>
                        <div class="draggable-word" draggable="true">be</div>
                        <div class="draggable-word" draggable="true">I</div>
                        <div class="draggable-word" draggable="true">quite</div>
                        <div class="draggable-word" draggable="true">tend</div>
                        <div class="draggable-word" draggable="true">to</div>
                    </div>
                </div>

                <div class="sentence-exercise" data-sentence="3">
                    <div class="sentence-context">Showing results:</div>
                    <div class="word-bank" data-correct="This led to a significant increase in sales.">
                        <div class="draggable-word" draggable="true">sales.</div>
                        <div class="draggable-word" draggable="true">in</div>
                        <div class="draggable-word" draggable="true">This</div>
                        <div class="draggable-word" draggable="true">increase</div>
                        <div class="draggable-word" draggable="true">led</div>
                        <div class="draggable-word" draggable="true">significant</div>
                        <div class="draggable-word" draggable="true">to</div>
                        <div class="draggable-word" draggable="true">a</div>
                    </div>
                </div>

                <div class="sentence-exercise" data-sentence="4">
                    <div class="sentence-context">Highlighting an achievement:</div>
                    <div class="word-bank" data-correct="I played a key role in the project.">
                        <div class="draggable-word" draggable="true">project.</div>
                        <div class="draggable-word" draggable="true">key</div>
                        <div class="draggable-word" draggable="true">I</div>
                        <div class="draggable-word" draggable="true">the</div>
                        <div class="draggable-word" draggable="true">played</div>
                        <div class="draggable-word" draggable="true">in</div>
                        <div class="draggable-word" draggable="true">a</div>
                        <div class="draggable-word" draggable="true">role</div>
                    </div>
                </div>

                <div class="sentence-exercise" data-sentence="5">
                    <div class="sentence-context">Reflecting on experience:</div>
                    <div class="word-bank" data-correct="Looking back, I learned a lot.">
                        <div class="draggable-word" draggable="true">lot.</div>
                        <div class="draggable-word" draggable="true">Looking</div>
                        <div class="draggable-word" draggable="true">I</div>
                        <div class="draggable-word" draggable="true">a</div>
                        <div class="draggable-word" draggable="true">back,</div>
                        <div class="draggable-word" draggable="true">learned</div>
                    </div>
                </div>
            </div>
            <button class="check-btn" onclick="checkSentenceOrder()">Check Answers</button>
            <button class="reset-btn" onclick="resetSentenceOrder()">Reset</button>
            <div class="feedback" id="sentenceFeedback"></div>

            <div class="conversation-prompt">
                <h4>üí¨ Speaking Challenge</h4>
                <p>Use the sentence "Looking back, I learned a lot" as a starting point. Tell your teacher about something you learned from ‚Äî it could be a trip, a course, a relationship, or a challenge.</p>
            </div>
        </section>

        <!-- Activity 7: Final Role Play -->
        <section class="section wrap-up" id="activity7">
            <div class="section-header">
                <span class="section-number">Activity 7/7</span>
                <h2>Putting It All Together</h2>
            </div>
            <p class="section-intro">Choose a scenario and have a conversation with your teacher. Use as many expressions from today as you can.</p>

            <div class="scenario-cards">
                <div class="scenario-card" onclick="selectScenario(this)">
                    <div class="scenario-icon">ü§ù</div>
                    <h4>Networking Event</h4>
                    <p>You meet someone in a similar industry at a conference. Introduce yourself and discuss your roles.</p>
                    <div class="scenario-goals">
                        <span>Target:</span> I'm responsible for, My role involves, I tend to
                    </div>
                </div>

                <div class="scenario-card" onclick="selectScenario(this)">
                    <div class="scenario-icon">üíº</div>
                    <h4>Job Interview</h4>
                    <p>An interviewer asks about your current role and a key achievement.</p>
                    <div class="scenario-goals">
                        <span>Target:</span> I played a key role in, This led to, Looking back
                    </div>
                </div>

                <div class="scenario-card" onclick="selectScenario(this)">
                    <div class="scenario-icon">‚òï</div>
                    <h4>Catching Up</h4>
                    <p>You bump into an old colleague. Chat about what you've both been working on.</p>
                    <div class="scenario-goals">
                        <span>Target:</span> My role involves, That reminds me, Something I'm working on
                    </div>
                </div>
            </div>

            <div class="roleplay-tips">
                <h4>üí° Remember to:</h4>
                <ul>
                    <li>Use the target expressions naturally</li>
                    <li>Give specific examples and details</li>
                    <li>Use follow-up questions to keep the conversation going</li>
                    <li>Pay attention to verb forms (-ing vs to)</li>
                </ul>
            </div>

            <div class="reflection-grid" style="margin-top: 2rem;">
                <div class="reflection-card">
                    <h4>üåü Expressions I Used Well</h4>
                    <p>Which expressions did you use successfully today?</p>
                    <textarea class="notes-input" placeholder="Write your successes here..."></textarea>
                </div>
                <div class="reflection-card">
                    <h4>üìà Areas to Keep Practising</h4>
                    <p>Which expressions or grammar points need more practice?</p>
                    <textarea class="notes-input" placeholder="Write your goals here..."></textarea>
                </div>
            </div>
        </section>

        <!-- Lesson Completion Section -->
        <section class="section lesson-completion" id="completion">
            <div class="completion-content">
                <div class="completion-icon" id="completionIcon">üìö</div>
                <h3 id="completionTitle">You've completed Review 1!</h3>
                <p id="completionText">Great work consolidating what you've learned. Mark this review as complete when you're ready.</p>
                <div class="completion-buttons">
                    <a href="lesson3.html" class="nav-btn">‚Üê Lesson 3</a>
                    <button class="complete-lesson-btn" id="completeBtn" onclick="toggleLessonCompletion()">
                        <span class="btn-icon">‚úì</span>
                        <span class="btn-text">Mark as Complete</span>
                    </button>
                    <a href="index.html" class="nav-btn nav-btn-primary">üè† Home</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <p>Business English Course by English in Doses</p>
    </footer>

    <script type="module" src="js/activities.js"></script>
    <script type="module" src="js/drop-down.js"></script>
    <script type="module" src="js/sentence-ordering.js"></script>
    
    <script type="module">
        import { 
            isLessonComplete, 
            markLessonComplete, 
            markLessonIncomplete,
            getCurrentUser
        } from './js/lesson-utils.js';
        
        const LESSON_NUMBER = 13;
        let isComplete = false;
        
        document.addEventListener('DOMContentLoaded', async function() {
            const username = getCurrentUser();
            if (username) {
                isComplete = await isLessonComplete(LESSON_NUMBER);
                updateCompletionUI();
            }
        });
        
        function updateCompletionUI() {
            const icon = document.getElementById('completionIcon');
            const title = document.getElementById('completionTitle');
            const text = document.getElementById('completionText');
            const btn = document.getElementById('completeBtn');
            const section = document.querySelector('.lesson-completion');
            
            if (isComplete) {
                icon.textContent = 'üéâ';
                title.textContent = 'Review Complete!';
                text.textContent = 'Excellent work! You\'ve consolidated your learning from Lessons 1-3.';
                btn.innerHTML = '<span class="btn-icon">‚Ü©</span><span class="btn-text">Mark as Incomplete</span>';
                btn.classList.add('completed');
                section.classList.add('is-complete');
            } else {
                icon.textContent = 'üìö';
                title.textContent = 'You\'ve completed Review 1!';
                text.textContent = 'Great work consolidating what you\'ve learned. Mark this review as complete when you\'re ready.';
                btn.innerHTML = '<span class="btn-icon">‚úì</span><span class="btn-text">Mark as Complete</span>';
                btn.classList.remove('completed');
                section.classList.remove('is-complete');
            }
        }
        
        window.toggleLessonCompletion = async function() {
            const btn = document.getElementById('completeBtn');
            const username = getCurrentUser();
            
            if (!username) {
                alert('Please log in on the homepage first to track your progress.');
                return;
            }
            
            btn.disabled = true;
            btn.style.opacity = '0.7';
            
            try {
                if (isComplete) {
                    await markLessonIncomplete(LESSON_NUMBER);
                    isComplete = false;
                } else {
                    await markLessonComplete(LESSON_NUMBER);
                    isComplete = true;
                }
                updateCompletionUI();
            } catch (error) {
                console.error('Error toggling completion:', error);
                alert('There was an error saving your progress. Please try again.');
            } finally {
                btn.disabled = false;
                btn.style.opacity = '1';
            }
        };
    </script>
</body>
</html>
